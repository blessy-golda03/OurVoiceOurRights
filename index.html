<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Voice, Our Rights / роЙроЩрпНроХро│рпН роХрпБро░ро▓рпН, роЙроЩрпНроХро│рпН роЙро░ро┐роорпИроХро│рпН</title>
<style>
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(to bottom right, #e0f3ff, #ffffff);
  margin: 0;
  padding: 0;
  text-align: center;
}
.container {
  max-width: 600px;
  margin: auto;
  padding: 20px;
}
h1 {
  font-size: 24px;
  color: #005baa;
}
button, select {
  padding: 10px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  margin: 8px;
}
button {
  background-color: #007bff;
  color: white;
  cursor: pointer;
}
button:hover { background-color: #0056b3; }
.card {
  background: white;
  margin: 10px auto;
  padding: 10px;
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
footer {
  margin-top: 20px;
  font-size: 14px;
  color: #555;
}
canvas {
  max-width: 100%;
}
.hidden {
  display: none;
}
</style>
</head>
<body>

<div class="container" id="page1">
  <h1>Our Voice, Our Rights<br><small>роЙроЩрпНроХро│рпН роХрпБро░ро▓рпН, роЙроЩрпНроХро│рпН роЙро░ро┐роорпИроХро│рпН</small></h1>
  <p><b>Select Language / роЙроЩрпНроХро│рпН роорпКро┤ро┐ропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</b></p>
  <select id="language">
    <option value="english">English</option>
    <option value="tamil">родрооро┐ро┤рпН</option>
  </select>
  
  <p><b>Select Your District / роЙроЩрпНроХро│рпН рооро╛ро╡роЯрпНроЯродрпНродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</b></p>
  <select id="district">
    <option value="Salem">Salem</option>
    <option value="Chennai">Chennai</option>
    <option value="Madurai">Madurai</option>
    <option value="Trichy">Trichy</option>
    <option value="Coimbatore">Coimbatore</option>
  </select>
  <br>
  <button id="detectLocation">ЁЯУН Detect My Location</button><br>
  <button id="continueBtn">Continue / родрпКроЯро░ро╡рпБроорпН</button>
</div>

<div class="container hidden" id="page2">
  <h1 id="districtTitle"></h1>
  <div class="card">
    <h3>2025 Data / 2025 родро░ро╡рпБ</h3>
    <p id="workers"></p>
    <p id="expenditure"></p>
    <p id="projects"></p>
  </div>
  <button id="viewPast">View Past Performance / роХроЯроирпНрод роЪро╛родройрпИропрпИрокрпН рокро╛ро░рпНро╡рпИропро┐роЯро╡рпБроорпН</button>
  <div class="hidden" id="chartContainer">
    <canvas id="trendChart"></canvas>
  </div>
  <button id="backBtn">тмЕя╕П Back / рокро┐ройрпНроЪрпЖро▓рпН</button>
  <footer>Designed & Developed by Blessy Golda for Build for Bharat Fellowship 2026</footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const districts = {
  Salem: { workers: 12000, expenditure: 8.5, projects: 230 },
  Chennai: { workers: 9500, expenditure: 7.2, projects: 190 },
  Madurai: { workers: 11000, expenditure: 8.0, projects: 210 },
  Trichy: { workers: 9800, expenditure: 7.6, projects: 200 },
  Coimbatore: { workers: 13000, expenditure: 9.0, projects: 240 }
};

let currentDistrict = 'Salem';
let currentLang = 'english';

document.getElementById('language').addEventListener('change', e => currentLang = e.target.value);
document.getElementById('district').addEventListener('change', e => currentDistrict = e.target.value);

document.getElementById('continueBtn').addEventListener('click', () => {
  document.getElementById('page1').classList.add('hidden');
  document.getElementById('page2').classList.remove('hidden');
  loadDistrictData();
});

document.getElementById('backBtn').addEventListener('click', () => {
  document.getElementById('page2').classList.add('hidden');
  document.getElementById('page1').classList.remove('hidden');
});

document.getElementById('detectLocation').addEventListener('click', () => {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(pos => {
      const { latitude, longitude } = pos.coords;
      alert("Detected location (approx): Lat " + latitude.toFixed(2) + ", Lon " + longitude.toFixed(2));
    });
  } else alert("Geolocation not supported.");
});

function loadDistrictData() {
  const data = districts[currentDistrict];
  const title = currentLang === 'english'
    ? `${currentDistrict} District - 2025`
    : `${currentDistrict} рооро╛ро╡роЯрпНроЯроорпН - 2025`;
  document.getElementById('districtTitle').innerText = title;
  document.getElementById('workers').innerText =
    currentLang === 'english'
      ? `Workers Engaged: ${data.workers}`
      : `рокрогро┐ роорпЗро▒рпНроХрпКрогрпНроЯ родрпКро┤ро┐ро▓ро╛ро│ро░рпНроХро│рпН: ${data.workers}`;
  document.getElementById('expenditure').innerText =
    currentLang === 'english'
      ? `Total Expenditure: тВ╣${data.expenditure} Cr`
      : `роорпКродрпНрод роЪрпЖро▓ро╡рпБ: тВ╣${data.expenditure} роХрпЛроЯро┐`;
  document.getElementById('projects').innerText =
    currentLang === 'english'
      ? `Projects Completed: ${data.projects}`
      : `роиро┐ро▒рпИро╡рпБ роЪрпЖропрпНропрокрпНрокроЯрпНроЯ родро┐роЯрпНроЯроЩрпНроХро│рпН: ${data.projects}`;
}

document.getElementById('viewPast').addEventListener('click', () => {
  document.getElementById('chartContainer').classList.toggle('hidden');
  showChart();
});

function showChart() {
  const ctx = document.getElementById('trendChart');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['2020','2021','2022','2023','2024','2025'],
      datasets: [{
        label: 'Workers (in 1000s)',
        data: [8,9,9.5,10,11,12],
        borderColor: 'blue',
        fill: false,
        tension: 0.3
      },{
        label: 'Expenditure (Cr)',
        data: [5,6,6.5,7,8,8.5],
        borderColor: 'orange',
        fill: false,
        tension: 0.3
      }]
    },
    options: { responsive: true }
  });
}
</script>

</body>
</html>
